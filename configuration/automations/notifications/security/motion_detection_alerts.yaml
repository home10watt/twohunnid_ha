- alias: 'Motion Detected: Anywhere'
  trigger:
  - entity_id: 
      - binary_sensor.motion_backyard_north
      - binary_sensor.backyard_patio_camera_motion
      - binary_sensor.motion_backyard_south
      - binary_sensor.motion_front_yard_south
      - binary_sensor.motion_front_driveway
    from: 'off'
    platform: state
    to: 'on'
  condition: []
  action:
  - data_template:
      message: >
        motion detected at the house! 
        {%- for entity_id in states.group.all_motion_sensors.attributes.entity_id -%}
          {% set parts = entity_id.split('.') -%}
          {% if states(entity_id) == 'on' %} {{ states[parts[0]][parts[1]].name|replace('Motion - ','') }},{% endif %}
        {%- endfor %}
    service: notify.nick
